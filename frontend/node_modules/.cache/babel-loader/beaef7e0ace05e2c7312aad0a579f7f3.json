{"ast":null,"code":"import _objectSpread from\"C:/Users/\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"C:/Users/\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";/*\r\nclass Api {\r\n  constructor(options) {\r\n    this._serverUrl = options.serverUrl;\r\n    this._headers = options.headers;\r\n  };\r\n\r\n  /* Ответ от сервера всегда проверяется на корректность \r\n  _checkCorrectness(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    // если ошибка, отклоняем промис\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  };\r\n  \r\n  /* Получить карточки с сервера \r\n  getInitialCards() {\r\n    return fetch(`${this._serverUrl}/cards`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n \r\n  /* Получить информацию о пользователе с сервера \r\n  getUserData() {\r\n    return fetch(`${this._serverUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Установить обновленные данные пользователя на сервер \r\n  patchUserInfo(data) {\r\n    return fetch(`${this._serverUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      })\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Установить аватар пользователя на сервере \r\n  patchUserAvatar(data) {\r\n    return fetch(`${this._serverUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      })\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Отправить данные новой карточки на сервер \r\n  postCard(card) {\r\n    return fetch(`${this._serverUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: card.name,\r\n        link: card.link,\r\n      })\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Удалить карточку с сервера \r\n  deleteCard(id) {\r\n    return fetch(`${this._serverUrl}/cards/${id}`, {\r\n    method: 'DELETE',\r\n    headers: this._headers,\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Поставить лайк \r\n  putLike(id) {\r\n    return fetch(`${this._serverUrl}/cards/${id}/likes`, {\r\n    method: 'PUT',\r\n    headers: this._headers,\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Удалить лайк \r\n  deleteLike(id) {\r\n    return fetch(`${this._serverUrl}/cards/${id}/likes`, {\r\n    method: 'DELETE',\r\n    headers: this._headers,\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n};\r\n\r\nexport const api = new Api({\r\n  serverUrl: 'https://domain.IanaPylaeva.bcknd.nomoredomains.xyz',//Адрес сервера проекта Mesto\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  }\r\n})\r\n\r\n\r\n\r\n*/var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._serverUrl=options.serverUrl;this._headers=options.headers;}_createClass(Api,[{key:\"_checkCorrectness\",value:/* Ответ от сервера всегда проверяется на корректность */function _checkCorrectness(res){if(res.ok){return res.json();}// если ошибка, отклоняем промис\nreturn Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getInitialCards\",value:/*\r\n  _getHeaders(){\r\n    const jwt = localStorage.getItem('jwt');\r\n    return {authorization: `Bearer ${jwt}`, ...this._headers}\r\n  }\r\n  */ /* Получить карточки с сервера */function getInitialCards(){return fetch(\"\".concat(this._serverUrl,\"/cards\"),{headers:_objectSpread({authorization:'Bearer '+localStorage.getItem('jwt')},this._headers)}).then(this._checkCorrectness);}},{key:\"getUserData\",value:/* Получить информацию о пользователе с сервера */function getUserData(){return fetch(\"\".concat(this._serverUrl,\"/users/me\"),{headers:_objectSpread({authorization:'Bearer '+localStorage.getItem('jwt')},this._headers)}).then(this._checkCorrectness);}},{key:\"patchUserInfo\",value:/* Установить обновленные данные пользователя на сервер */function patchUserInfo(data){return fetch(\"\".concat(this._serverUrl,\"/users/me\"),{method:'PATCH',headers:_objectSpread({authorization:'Bearer '+localStorage.getItem('jwt')},this._headers),body:JSON.stringify({name:data.name,about:data.about})}).then(this._checkCorrectness);}},{key:\"patchUserAvatar\",value:/* Установить аватар пользователя на сервере */function patchUserAvatar(data){return fetch(\"\".concat(this._serverUrl,\"/users/me/avatar\"),{method:'PATCH',headers:_objectSpread({authorization:'Bearer '+localStorage.getItem('jwt')},this._headers),body:JSON.stringify({avatar:data.avatar})}).then(this._checkCorrectness);}},{key:\"postCard\",value:/* Отправить данные новой карточки на сервер */function postCard(card){return fetch(\"\".concat(this._serverUrl,\"/cards\"),{method:'POST',headers:_objectSpread({authorization:'Bearer '+localStorage.getItem('jwt')},this._headers),body:JSON.stringify({name:card.name,link:card.link})}).then(this._checkCorrectness);}},{key:\"deleteCard\",value:/* Удалить карточку с сервера */function deleteCard(id){return fetch(\"\".concat(this._serverUrl,\"/cards/\").concat(id),{method:'DELETE',headers:_objectSpread({authorization:'Bearer '+localStorage.getItem('jwt')},this._headers)}).then(this._checkCorrectness);}},{key:\"putLike\",value:/* Поставить лайк */function putLike(id){return fetch(\"\".concat(this._serverUrl,\"/cards/\").concat(id,\"/likes\"),{method:'PUT',headers:_objectSpread({authorization:'Bearer '+localStorage.getItem('jwt')},this._headers)}).then(this._checkCorrectness);}},{key:\"deleteLike\",value:/* Удалить лайк */function deleteLike(id){return fetch(\"\".concat(this._serverUrl,\"/cards/\").concat(id,\"/likes\"),{method:'DELETE',headers:_objectSpread({authorization:'Bearer '+localStorage.getItem('jwt')},this._headers)}).then(this._checkCorrectness);}}]);return Api;}();;export var api=new Api({serverUrl:'https://domain.ianapylaeva.bcknd.nomoredomains.xyz',headers:{'Accept':'application/json','Content-Type':'application/json'}});","map":{"version":3,"sources":["C:/Users/пользователь/dev/react-mesto-api-full/frontend/src/utils/api.js"],"names":["Api","options","_serverUrl","serverUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","authorization","localStorage","getItem","then","_checkCorrectness","data","method","body","JSON","stringify","name","about","avatar","card","link","id","api"],"mappings":"wlBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E,GAEMA,CAAAA,G,yBACJ,aAAYC,OAAZ,CAAqB,2BACnB,KAAKC,UAAL,CAAkBD,OAAO,CAACE,SAA1B,CACA,KAAKC,QAAL,CAAgBH,OAAO,CAACI,OAAxB,CACD,C,iDAED,yDACA,2BAAkBC,GAAlB,CAAuB,CACrB,GAAIA,GAAG,CAACC,EAAR,CAAY,CACV,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACD,CACD;AACA,MAAOC,CAAAA,OAAO,CAACC,MAAR,iDAA0BJ,GAAG,CAACK,MAA9B,EAAP,CACD,C,+BACD;AACF;AACA;AACA;AACA;AACA,I,CAEE,iCACA,0BAAkB,CAChB,MAAOC,CAAAA,KAAK,WAAI,KAAKV,UAAT,WAA6B,CACvCG,OAAO,gBAAGQ,aAAa,CAAE,UAAYC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAA9B,EAA8D,KAAKX,QAAnE,CADgC,CAA7B,CAAL,CAGNY,IAHM,CAGD,KAAKC,iBAHJ,CAAP,CAID,C,2BAED,kDACA,sBAAc,CACZ,MAAOL,CAAAA,KAAK,WAAI,KAAKV,UAAT,cAAgC,CAC1CG,OAAO,gBAAGQ,aAAa,CAAE,UAAYC,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","sourcesContent":["/*\r\nclass Api {\r\n  constructor(options) {\r\n    this._serverUrl = options.serverUrl;\r\n    this._headers = options.headers;\r\n  };\r\n\r\n  /* Ответ от сервера всегда проверяется на корректность \r\n  _checkCorrectness(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    // если ошибка, отклоняем промис\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  };\r\n  \r\n  /* Получить карточки с сервера \r\n  getInitialCards() {\r\n    return fetch(`${this._serverUrl}/cards`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n \r\n  /* Получить информацию о пользователе с сервера \r\n  getUserData() {\r\n    return fetch(`${this._serverUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Установить обновленные данные пользователя на сервер \r\n  patchUserInfo(data) {\r\n    return fetch(`${this._serverUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      })\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Установить аватар пользователя на сервере \r\n  patchUserAvatar(data) {\r\n    return fetch(`${this._serverUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      })\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Отправить данные новой карточки на сервер \r\n  postCard(card) {\r\n    return fetch(`${this._serverUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: card.name,\r\n        link: card.link,\r\n      })\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Удалить карточку с сервера \r\n  deleteCard(id) {\r\n    return fetch(`${this._serverUrl}/cards/${id}`, {\r\n    method: 'DELETE',\r\n    headers: this._headers,\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Поставить лайк \r\n  putLike(id) {\r\n    return fetch(`${this._serverUrl}/cards/${id}/likes`, {\r\n    method: 'PUT',\r\n    headers: this._headers,\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Удалить лайк \r\n  deleteLike(id) {\r\n    return fetch(`${this._serverUrl}/cards/${id}/likes`, {\r\n    method: 'DELETE',\r\n    headers: this._headers,\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n};\r\n\r\nexport const api = new Api({\r\n  serverUrl: 'https://domain.IanaPylaeva.bcknd.nomoredomains.xyz',//Адрес сервера проекта Mesto\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  }\r\n})\r\n\r\n\r\n\r\n*/\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._serverUrl = options.serverUrl;\r\n    this._headers = options.headers;\r\n  };\r\n\r\n  /* Ответ от сервера всегда проверяется на корректность */\r\n  _checkCorrectness(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    // если ошибка, отклоняем промис\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  };\r\n  /*\r\n  _getHeaders(){\r\n    const jwt = localStorage.getItem('jwt');\r\n    return {authorization: `Bearer ${jwt}`, ...this._headers}\r\n  }\r\n  */\r\n\r\n  /* Получить карточки с сервера */\r\n  getInitialCards() {\r\n    return fetch(`${this._serverUrl}/cards`, {\r\n      headers: {authorization: 'Bearer ' + localStorage.getItem('jwt'), ...this._headers},\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n \r\n  /* Получить информацию о пользователе с сервера */\r\n  getUserData() {\r\n    return fetch(`${this._serverUrl}/users/me`, {\r\n      headers: {authorization: 'Bearer ' + localStorage.getItem('jwt'), ...this._headers},\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Установить обновленные данные пользователя на сервер */\r\n  patchUserInfo(data) {\r\n    return fetch(`${this._serverUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {authorization: 'Bearer ' + localStorage.getItem('jwt'), ...this._headers},\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      })\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Установить аватар пользователя на сервере */\r\n  patchUserAvatar(data) {\r\n    return fetch(`${this._serverUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {authorization: 'Bearer ' + localStorage.getItem('jwt'), ...this._headers},\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      })\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Отправить данные новой карточки на сервер */\r\n  postCard(card) {\r\n    return fetch(`${this._serverUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: {authorization: 'Bearer ' + localStorage.getItem('jwt'), ...this._headers},\r\n      body: JSON.stringify({\r\n        name: card.name,\r\n        link: card.link,\r\n      })\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Удалить карточку с сервера */\r\n  deleteCard(id) {\r\n    return fetch(`${this._serverUrl}/cards/${id}`, {\r\n    method: 'DELETE',\r\n    headers: {authorization: 'Bearer ' + localStorage.getItem('jwt'), ...this._headers},\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Поставить лайк */\r\n  putLike(id) {\r\n    return fetch(`${this._serverUrl}/cards/${id}/likes`, {\r\n    method: 'PUT',\r\n    headers: {authorization: 'Bearer ' + localStorage.getItem('jwt'), ...this._headers},\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Удалить лайк */\r\n  deleteLike(id) {\r\n    return fetch(`${this._serverUrl}/cards/${id}/likes`, {\r\n    method: 'DELETE',\r\n    headers: {authorization: 'Bearer ' + localStorage.getItem('jwt'), ...this._headers},\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n};\r\n\r\nexport const api = new Api({\r\n  serverUrl: 'https://domain.ianapylaeva.bcknd.nomoredomains.xyz',\r\n  headers: {\r\n    'Accept': 'application/json',\r\n    'Content-Type': 'application/json',\r\n  }\r\n})"]},"metadata":{},"sourceType":"module"}