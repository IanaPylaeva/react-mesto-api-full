{"ast":null,"code":"import _defineProperty from\"C:/Users/\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from'../contexts/CurrentUserContext.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var currentUser=React.useContext(CurrentUserContext);var name=currentUser.name,about=currentUser.about;var _React$useState=React.useState({name:'',about:''}),_React$useState2=_slicedToArray(_React$useState,2),userData=_React$useState2[0],setUserData=_React$useState2[1];function handleUserDataChange(evt){var _evt$target=evt.target,name=_evt$target.name,value=_evt$target.value;setUserData(_objectSpread(_objectSpread({},userData),{},_defineProperty({},name,value)));}/* Отправить форму */function handleSubmit(evt){evt.preventDefault();props.onUpdateUser(userData);}React.useEffect(function(){setUserData(currentUser);},[name,about,props.isOpen]);return/*#__PURE__*/_jsx(PopupWithForm,{isOpen:props.isOpen,popupType:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",popupNameForm:\"editForm\",submitButtonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",onClose:props.onClose,onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__input-container\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"popup__text-error_name\",type:\"text\",className:\"popup__text popup__text_type_name\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\",minLength:\"2\",maxLength:\"40\",value:userData.name?userData.name:'',onChange:handleUserDataChange,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__text-error popup__text-error_name-error\"}),/*#__PURE__*/_jsx(\"input\",{id:\"popup__text-error_about\",type:\"text\",className:\"popup__text popup__text_type_about\",name:\"about\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",minLength:\"2\",maxLength:\"200\",value:userData.about?userData.about:'',onChange:handleUserDataChange,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__text-error popup__text-error_about-error\"})]})});}export default EditProfilePopup;","map":{"version":3,"sources":["C:/Users/пользователь/dev/react-mesto-api-full/frontend/src/components/EditProfilePopup.js"],"names":["React","PopupWithForm","CurrentUserContext","EditProfilePopup","props","currentUser","useContext","name","about","useState","userData","setUserData","handleUserDataChange","evt","target","value","handleSubmit","preventDefault","onUpdateUser","useEffect","isOpen","onClose"],"mappings":"4lBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,kBAAT,KAAmC,mCAAnC,C,wFAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAC/B,GAAMC,CAAAA,WAAW,CAAGL,KAAK,CAACM,UAAN,CAAiBJ,kBAAjB,CAApB,CACA,GAAOK,CAAAA,IAAP,CAAsBF,WAAtB,CAAOE,IAAP,CAAaC,KAAb,CAAsBH,WAAtB,CAAaG,KAAb,CACA,oBAAgCR,KAAK,CAACS,QAAN,CAAe,CAACF,IAAI,CAAE,EAAP,CAAWC,KAAK,CAAE,EAAlB,CAAf,CAAhC,oDAAOE,QAAP,qBAAiBC,WAAjB,qBAEA,QAASC,CAAAA,oBAAT,CAA8BC,GAA9B,CAAmC,CACjC,gBAAsBA,GAAG,CAACC,MAA1B,CAAOP,IAAP,aAAOA,IAAP,CAAaQ,KAAb,aAAaA,KAAb,CACAJ,WAAW,gCACND,QADM,wBAERH,IAFQ,CAEDQ,KAFC,GAAX,CAID,CAED,qBACA,QAASC,CAAAA,YAAT,CAAsBH,GAAtB,CAA2B,CACzBA,GAAG,CAACI,cAAJ,GACAb,KAAK,CAACc,YAAN,CAAmBR,QAAnB,EACD,CAEDV,KAAK,CAACmB,SAAN,CAAgB,UAAM,CACpBR,WAAW,CAACN,WAAD,CAAX,CACD,CAFD,CAEG,CAACE,IAAD,CAAOC,KAAP,CAAcJ,KAAK,CAACgB,MAApB,CAFH,EAIA,mBACE,KAAC,aAAD,EACE,MAAM,CAAEhB,KAAK,CAACgB,MADhB,CAEE,SAAS,CAAC,SAFZ,CAGE,KAAK,CAAC,2HAHR,CAIE,aAAa,CAAC,UAJhB,CAKE,gBAAgB,CAAC,wDALnB,CAME,OAAO,CAAEhB,KAAK,CAACiB,OANjB,CAOE,QAAQ,CAAEL,YAPZ,uBASE,aAAK,SAAS,CAAC,wBAAf,wBACE,cACE,EAAE,CAAC,wBADL,CAEE,IAAI,CAAC,MAFP,CAGE,SAAS,CAAC,mCAHZ,CAIE,IAAI,CAAC,MAJP,CAKE,WAAW,CAAC,6FALd,CAME,SAAS,CAAC,GANZ,CAOE,SAAS,CAAC,IAPZ,CAQE,KAAK,CAAEN,QAAQ,CAACH,IAAT,CAAgBG,QAAQ,CAACH,IAAzB,CAAgC,EARzC,CASE,QAAQ,CAAEK,oBATZ,CAUE,QAAQ,KAVV,EADF,cAaE,aAAM,SAAS,CAAC,gDAAhB,EAbF,cAcE,cACE,EAAE,CAAC,yBADL,CAEE,IAAI,CAAC,MAFP,CAGE,SAAS,CAAC,oCAHZ,CAIE,IAAI,CAAC,OAJP,CAKE,WAAW,CAAC,iCALd,CAME,SAAS,CAAC,GANZ,CAOE,SAAS,CAAC,KAPZ,CAQE,KAAK,CAAEF,QAAQ,CAACF,KAAT,CAAiBE,QAAQ,CAACF,KAA1B,CAAkC,EAR3C,CASE,QAAQ,CAAEI,oBATZ,CAUE,QAAQ,KAVV,EAdF,cA0BE,aAAM,SAAS,CAAC,iDAAhB,EA1BF,GATF,EADF,CAwCD,CAED,cAAeT,CAAAA,gBAAf","sourcesContent":["import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const {name, about} = currentUser;\r\n  const [userData, setUserData] = React.useState({name: '', about: ''})\r\n\r\n  function handleUserDataChange(evt) {\r\n    const {name, value} = evt.target;\r\n    setUserData({\r\n      ...userData,\r\n      [name]: value\r\n    })\r\n  }\r\n\r\n  /* Отправить форму */\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onUpdateUser(userData);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setUserData(currentUser)\r\n  }, [name, about, props.isOpen]);\r\n  \r\n  return(\r\n    <PopupWithForm\r\n      isOpen={props.isOpen}\r\n      popupType=\"profile\"\r\n      title=\"Редактировать профиль\"\r\n      popupNameForm=\"editForm\"\r\n      submitButtonText=\"Сохранить\"\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div className=\"popup__input-container\">\r\n        <input\r\n          id=\"popup__text-error_name\"\r\n          type=\"text\"\r\n          className=\"popup__text popup__text_type_name\"\r\n          name=\"name\"\r\n          placeholder=\"Имя пользователя\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          value={userData.name ? userData.name : ''}\r\n          onChange={handleUserDataChange}\r\n          required\r\n        />\r\n        <span className=\"popup__text-error popup__text-error_name-error\"></span>\r\n        <input\r\n          id=\"popup__text-error_about\"\r\n          type=\"text\"\r\n          className=\"popup__text popup__text_type_about\"\r\n          name=\"about\"\r\n          placeholder=\"О себе\"        \r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          value={userData.about ? userData.about : ''}\r\n          onChange={handleUserDataChange}\r\n          required\r\n        />\r\n        <span className=\"popup__text-error popup__text-error_about-error\" ></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;"]},"metadata":{},"sourceType":"module"}