{"ast":null,"code":"import _classCallCheck from\"C:/Users/\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._serverUrl=options.serverUrl;this._headers=options.headers;}_createClass(Api,[{key:\"_checkCorrectness\",value:/* Ответ от сервера всегда проверяется на корректность */function _checkCorrectness(res){if(res.ok){return res.json();}// если ошибка, отклоняем промис\nreturn Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getInitialCards\",value:/* Получить карточки с сервера */function getInitialCards(){return fetch(\"\".concat(this._serverUrl,\"/cards\"),{method:'GET',headers:this._headers}).then(this._checkCorrectness);}},{key:\"getUserData\",value:/* Получить информацию о пользователе с сервера */function getUserData(){return fetch(\"\".concat(this._serverUrl,\"/users/me\"),{method:'GET',headers:this._headers}).then(this._checkCorrectness);}},{key:\"patchUserInfo\",value:/* Установить обновленные данные пользователя на сервер */function patchUserInfo(data){return fetch(\"\".concat(this._serverUrl,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:data.name,about:data.about})}).then(this._checkCorrectness);}},{key:\"patchUserAvatar\",value:/* Установить аватар пользователя на сервере */function patchUserAvatar(data){return fetch(\"\".concat(this._serverUrl,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:data.avatar})}).then(this._checkCorrectness);}},{key:\"postCard\",value:/* Отправить данные новой карточки на сервер */function postCard(card){return fetch(\"\".concat(this._serverUrl,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:card.name,link:card.link})}).then(this._checkCorrectness);}},{key:\"deleteCard\",value:/* Удалить карточку с сервера */function deleteCard(id){return fetch(\"\".concat(this._serverUrl,\"/cards/\").concat(id),{method:'DELETE',headers:this._headers}).then(this._checkCorrectness);}},{key:\"putLike\",value:/* Поставить лайк */function putLike(id){return fetch(\"\".concat(this._serverUrl,\"/cards/\").concat(id,\"/likes\"),{method:'PUT',headers:this._headers}).then(this._checkCorrectness);}},{key:\"deleteLike\",value:/* Удалить лайк */function deleteLike(id){return fetch(\"\".concat(this._serverUrl,\"/cards/\").concat(id,\"/likes\"),{method:'DELETE',headers:this._headers}).then(this._checkCorrectness);}}]);return Api;}();;export var api=new Api({serverUrl:'https://domain.IanaPylaeva.bcknd.nomoredomains.xyz',//Адрес сервера проекта Mesto\nheaders:{'Content-Type':'application/json'}});","map":{"version":3,"sources":["C:/Users/пользователь/dev/react-mesto-api-full/frontend/src/utils/api.js"],"names":["Api","options","_serverUrl","serverUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkCorrectness","data","body","JSON","stringify","name","about","avatar","card","link","id","api"],"mappings":"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","sourcesContent":["class Api {\r\n  constructor(options) {\r\n    this._serverUrl = options.serverUrl;\r\n    this._headers = options.headers;\r\n  };\r\n\r\n  /* Ответ от сервера всегда проверяется на корректность */\r\n  _checkCorrectness(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    // если ошибка, отклоняем промис\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  };\r\n  \r\n  /* Получить карточки с сервера */\r\n  getInitialCards() {\r\n    return fetch(`${this._serverUrl}/cards`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n \r\n  /* Получить информацию о пользователе с сервера */\r\n  getUserData() {\r\n    return fetch(`${this._serverUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: this._headers,\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Установить обновленные данные пользователя на сервер */\r\n  patchUserInfo(data) {\r\n    return fetch(`${this._serverUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      })\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Установить аватар пользователя на сервере */\r\n  patchUserAvatar(data) {\r\n    return fetch(`${this._serverUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      })\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Отправить данные новой карточки на сервер */\r\n  postCard(card) {\r\n    return fetch(`${this._serverUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: card.name,\r\n        link: card.link,\r\n      })\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Удалить карточку с сервера */\r\n  deleteCard(id) {\r\n    return fetch(`${this._serverUrl}/cards/${id}`, {\r\n    method: 'DELETE',\r\n    headers: this._headers,\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Поставить лайк */\r\n  putLike(id) {\r\n    return fetch(`${this._serverUrl}/cards/${id}/likes`, {\r\n    method: 'PUT',\r\n    headers: this._headers,\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n\r\n  /* Удалить лайк */\r\n  deleteLike(id) {\r\n    return fetch(`${this._serverUrl}/cards/${id}/likes`, {\r\n    method: 'DELETE',\r\n    headers: this._headers,\r\n    })\r\n    .then(this._checkCorrectness);\r\n  };\r\n};\r\n\r\nexport const api = new Api({\r\n  serverUrl: 'https://domain.IanaPylaeva.bcknd.nomoredomains.xyz',//Адрес сервера проекта Mesto\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n})"]},"metadata":{},"sourceType":"module"}